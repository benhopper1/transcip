div(id="smsPopupHeader" data-role="header")
	h4 Grouped Recipients

//div(data-role="main" class="ui-content")
div(id="smsPopDiv_000" class="" data-position-to="window" style="width:400px; height:80%")
	a(href="#" data-rel="back" class="ui-btn ui-corner-all ui-shadow ui-btn-a ui-icon-delete ui-btn-icon-notext ui-btn-right") Close
	#contactsMenu_sms_popup(style="height:90%;overflow-y: auto")
	br
	div(id="smsPopupButtonAreaDiv" style="position:absolute;bottom:10px;width:400px;")
		div(class="ui-grid-a" style="position:relative !important;")
			center()
				div(class="ui-block-a" style="width:50%")
					a(data-icon="delete" data-theme="a" id="bt_smsPopup_clear" 	data-mini="true" class="ui-overlay-shadow ui-btn") Clear
				div(class="ui-block-b" style="width:50%;")
					a(data-icon="minus" data-theme="a" id="bt_smsPopup_hidePanel" 	data-mini="true" class="ui-overlay-shadow ui-btn") Hide Panel

	br



script.
	$('#contactsMenu_sms_popup').CheckboxLines('create', 
		{
			onChange:function(lookupId, isChecked, dataWrapper, formJref, inputJref, labelJref){
				console.dir(dataWrapper);
				var checkedArray = $('#contactsMenu_sms_popup').CheckboxLines('getCheckedData');
				SmsManagerObject.drawToContactSleeve(checkedArray);
			}
		}
	);

	$('#bt_smsPopup_clear').click(function(){
		var theDataArray = $('#contactsMenu_sms_popup').CheckboxLines('getCheckedData');
		for(var theDataArrayIndex in theDataArray){
			console.log('theDataArrayIndex');
			console.dir(theDataArray[theDataArrayIndex]); //theDataArray[theDataArrayIndex]
			$('#contactsMenu_sms_popup').CheckboxLines('setCheckbox',
				{
					lookupId:theDataArray[theDataArrayIndex].lookupId,
					isChecked:false,
				}
			);
		}

	});
	$('#bt_smsPopup_hidePanel').click(function(){
		$('#contactPopup_sms').popup().popup( "close" );
	});





	//- contactDataObject.select({}, function(inRecords){
	//- 	for(contactIndex in inRecords){
	//- 		$('#contactsMenu_sms_popup').CheckboxLines('addItem',
	//- 			{
	//- 				lookupId:inRecords[contactIndex].id,
	//- 				data:inRecords[contactIndex],
	//- 				caption:'<img src="'  + inRecords[contactIndex].imageUrl + '" style="height:40px; width:40px;  object-fit: cover; float:left" class="magicSquare"/><h4>&nbsp;&nbsp;&nbsp;' + inRecords[contactIndex].name + '&nbsp;&nbsp;&nbsp;' + inRecords[contactIndex].type + '<br>&nbsp;&nbsp;&nbsp;' + phoneDisplayFormat(inRecords[contactIndex].phoneNumber) + '</h4>',
	//- 				isChecked:false,
	//- 				formStyle:'border:0;width:400px;'
	//- 			}
	//- 		);
	//- 	}
	//- });


	//- ContactDataCache.getEventObject().setOn('onChange', function(inData){
	//- 	$.debug('popup sms.onchange', inData);
	//- 	alert('popup sms check box, need to update' + inData.id);
	//- });

	console.log('POPUP onInsert EVENT');
	//- ContactDataCache.getEventObject().setOn('onInsert', function(inRecord){
	//- 	$('#contactsMenu_sms_popup').CheckboxLines('addItem',
	//- 		{
	//- 			lookupId:inRecord.id,
	//- 			data:inRecord,
	//- 			caption:'<img src="'  + inRecord.imageUrl + '" style="height:40px; width:40px;  object-fit: cover; float:left" class="magicSquare"/><h4>&nbsp;&nbsp;&nbsp;' + inRecord.name + '&nbsp;&nbsp;&nbsp;' + inRecord.type + '<br>&nbsp;&nbsp;&nbsp;' + phoneDisplayFormat(inRecord.phoneNumber) + '</h4>',
	//- 			isChecked:false,
	//- 			formStyle:'border:0;width:400px;'
	//- 		}
	//- 	);
	//- });

	//- ContactDataCache.getEventObject().setOn('onDelete', function(inRecord){
	//- 	$('#contactsMenu_sms_popup').CheckboxLines('remove', inRecord.id);

	//- });

	//- ContactDataCache.getEventObject().setOn('onEdit', function(inRecord){
	//- 	$('#contactsMenu_sms_popup').CheckboxLines('editItem', 
	//- 		{
	//- 			caption:'<img src="'  + inRecord.imageUrl + '" style="height:40px; width:40px;  object-fit: cover; float:left" class="magicSquare"/><h4>&nbsp;&nbsp;&nbsp;' + inRecord.name + '&nbsp;&nbsp;&nbsp;' + inRecord.type + '<br>&nbsp;&nbsp;&nbsp;' + phoneDisplayFormat(inRecord.phoneNumber) + '</h4>',
	//- 			lookupId:inRecord.id,
	//- 			data:inRecord,
	//- 		}
	//- 	);

	//- });

	//- ContactDataCache.subscribe(
	//- 	{
	//- 		onInsert:function(inRecord){
	//- 			$('#contactsMenu_sms_popup').CheckboxLines('addItem',
	//- 				{
	//- 					lookupId:inRecord.id,
	//- 					data:inRecord,
	//- 					caption:'<img src="'  + inRecord.imageUrl + '" style="height:40px; width:40px;  object-fit: cover; float:left" class="magicSquare"/><h4>&nbsp;&nbsp;&nbsp;' + inRecord.name + '&nbsp;&nbsp;&nbsp;' + inRecord.type + '<br>&nbsp;&nbsp;&nbsp;' + phoneDisplayFormat(inRecord.phoneNumber) + '</h4>',
	//- 					isChecked:false,
	//- 					formStyle:'border:0;width:400px;'
	//- 				}
	//- 			);
	//- 		},

	//- 		onEdit:function(inRecord){
	//- 			$('#contactsMenu_sms_popup').CheckboxLines('editItem', 
	//- 				{
	//- 					caption:'<img src="'  + inRecord.imageUrl + '" style="height:40px; width:40px;  object-fit: cover; float:left" class="magicSquare"/><h4>&nbsp;&nbsp;&nbsp;' + inRecord.name + '&nbsp;&nbsp;&nbsp;' + inRecord.type + '<br>&nbsp;&nbsp;&nbsp;' + phoneDisplayFormat(inRecord.phoneNumber) + '</h4>',
	//- 					lookupId:inRecord.id,
	//- 					data:inRecord,
	//- 				}
	//- 			);
	//- 		},

	//- 		onDelete:function(inRecord){
	//- 			$('#contactsMenu_sms_popup').CheckboxLines('remove', inRecord.id);
	//- 		},

	//- 		onTempContactInsert:function(inRecord){
	//- 			alert('ContactDataCache.subscribe_onTempContactInsert');
	//- 		},

	//- 		onTempContactDelete:function(inRecord){
	//- 			alert('ContactDataCache.subscribe_onTempContactDelete');
	//- 		}
	//- 	}
	//- );




	//- ContactDataCache.getCache(
	//- 	{
	//- 		cacheOption:'getUnionCachedDataArray',
	//- 		forceRefresh:false,
	//- 		onFinish:function(inRecords){
	//- 			for(var inRecordsIndex in inRecords){
	//- 				$('#contactsMenu_sms_popup').CheckboxLines('addItem',
	//- 					{
	//- 						lookupId:inRecords[inRecordsIndex].id,
	//- 						data:inRecords[inRecordsIndex],
	//- 						caption:'<img src="'  + inRecords[inRecordsIndex].imageUrl + '" style="height:40px; width:40px;  object-fit: cover; float:left" class="magicSquare"/><h4>&nbsp;&nbsp;&nbsp;' + inRecords[inRecordsIndex].name + '&nbsp;&nbsp;&nbsp;' + inRecords[inRecordsIndex].type + '<br>&nbsp;&nbsp;&nbsp;' + phoneDisplayFormat(inRecords[inRecordsIndex].phoneNumber) + '</h4>',
	//- 						isChecked:false,
	//- 						formStyle:'border:0;width:400px;'
	//- 					}
	//- 				);
	//- 			}
	//- 		}
	//- 	}
	//- );







	//set height inner section for popup
	$('#contactsMenu_sms_popup').css('height', $('#contactPopup_sms').height() - ($('#smsPopupHeader').height() + $('#smsPopupButtonAreaDiv').height()));


	$('#contactsMenu_sms_popup').trigger('create');

	console.log('$$PageId:' + $.getCurrentPageId());
	console.dir(PageLoaderObject.getLoadedPages());